function getLocation(e){if(null!=e)if((postalcodes=e.postalcodes).length>1){document.getElementById("suggestBoxElement").style.visibility="visible";var t="";for(i=0;i<e.postalcodes.length;i++)t+="<div class='suggestions' id=pcId"+i+" onmousedown='suggestBoxMouseDown("+i+")' onmouseover='suggestBoxMouseOver("+i+")' onmouseout='suggestBoxMouseOut("+i+")'> "+postalcodes[i].countryCode+" "+postalcodes[i].postalcode+" &nbsp;&nbsp; "+postalcodes[i].placeName+"</div>";document.getElementById("suggestBoxElement").innerHTML=t}else 1==postalcodes.length&&(document.getElementById("placeInput").value=postalcodes[0].placeName),closeSuggestBox()}function closeSuggestBox(){document.getElementById("suggestBoxElement").innerHTML="",document.getElementById("suggestBoxElement").style.visibility="hidden"}function suggestBoxMouseOut(e){document.getElementById("pcId"+e).className="suggestions"}function suggestBoxMouseDown(e){closeSuggestBox(),document.getElementById("placeInput").value=postalcodes[e].placeName}function suggestBoxMouseOver(e){document.getElementById("pcId"+e).className="suggestionMouseOver"}function postalCodeLookup(){var e=$("#countrySelect").val();$("#suggestBoxElement").css("visibility","visible"),$("#suggestBoxElement").html("<small><i>loading ...</i></small>");var t=$("#postalcodeInput").val();request="http://api.geonames.org/postalCodeLookupJSON?postalcode="+t+"&country="+e+"&username=wegmeth&callback=getLocation",aObj=new JSONscriptRequest(request),aObj.buildScriptTag(),aObj.addScriptTag()}$(function(){function e(e){$("main").html(e),$("select").material_select(),$("#postalcodeInput").on("blur",postalCodeLookup),$(".datepicker").pickadate({selectMonths:!0,selectYears:15,today:"Heute",format:"dd.mm.yyyy",close:"Ok",closeOnSelect:!1}),$("#add_member").on("click",function(e){var a=$("#inp_add_member").val(),o={id:s.attr("href").split("#")[1].split("/")[2],ajax:"1",namespace:"ajax",action:"requestMember",email:a};$.ajax({type:"POST",url:"index.php",data:o,success:t})})}function t(e){var t=JSON.parse(e);""==t.error?$("#trip_members").append(t.html):alert(t.error)}var s;$(".button-collapse").sideNav({closeOnClick:!0}),$(document).on("submit","form",function(t){for(var s=$(t.target).serializeArray(),a={},o=0;o<s.length;++o){var n=s[o],l=n.name,c=n.value;l&&(a[l]=c)}var i=$(t.target).attr("action").split("#")[1],u=i.split("/")[0],d=i.split("/")[1];dataJson={namespace:u,action:d,ajax:!0,data:a},$.ajax({type:"POST",url:"index.php",data:dataJson,success:e}),t.preventDefault()}),$(document).on("click",".link",function(t){var a=(s=$(t.target)).attr("href").split("#")[1].split("/"),o=a[0],n=a[1];if(a.length>2){var l=a[2];data={namespace:o,action:n,id:l,ajax:!0}}else data={namespace:o,action:n,ajax:!0};$.ajax({type:"POST",url:"index.php",data:data,success:e})})});var postalcodes;